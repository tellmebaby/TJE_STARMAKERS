<th:block th:fragment="script">
    <!-- js ê°€ì ¸ì˜¤ëŠ” ìˆœì„œ -->
    <!-- jQuery -->
    <!-- jQueryê¸°ë°˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <!-- ì‚¬ìš©ì ì •ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ -->
    <!-- <script src="/js/script.js"></script> -->

    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>

    <!-- <script src="/lib/summernote-lite.js"></script> -->
    <!-- <script src="/lib/summernote-ko-KR.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- swiper -->  
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- <script>

        $(document).ready(function () {

            // ì¹´ë“œì´í™íŠ¸
            $(document).on('mousemove', '.effect', function (e) {
                var container = $(this);
                var overlay = container.find('.card-overlay');

                var x = e.offsetX;
                var y = e.offsetY;
                var rotateY = -1 / 5 * x + 20;
                var rotateX = 4 / 30 * y - 20;

                overlay.css('background-position', `${x / 5 + y / 5}%`);
                container.css('transform', `perspective(350px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`);
            });

            $(document).on('mouseout', '.effect', function () {
                var container = $(this);
                var overlay = container.find('.card-overlay');

                overlay.css('filter', 'opacity(0)');
                container.css('transform', 'perspective(350px) rotateY(0deg) rotateX(0deg)');
            });

            $(document).on('mouseenter', '.effect', function () {
                var overlay = $(this).find('.card-overlay');
                overlay.css('filter', 'opacity(0.8)');
            });

            // í´ë¦­ì´ë²¤íŠ¸ ì²˜ë¦¬
            let clickTimer;
            let isDoubleClick = false;

            $(document).on('click', '.card', function () {

                var no = $(this).attr("data-no");

                if (isDoubleClick) {
                    isDoubleClick = false;
                    return;
                }

                clickTimer = setTimeout(() => {
                    if (!isDoubleClick) {
                        window.location="/page/starCard/starRead?starNo="+no;
                    }
                }, 250);
            });

            // ë”ë¸”í´ë¦­ì‹œ ì¢‹ì•„ìš” ì €ì¥
            // function handleCardDoubleClick(cardElement) {
            //     var $card = $(cardElement); // í˜„ì¬ í´ë¦­ëœ ì¹´ë“œ ìš”ì†Œë¥¼ ì €ì¥

            //     clearTimeout(clickTimer);
            //     isDoubleClick = true;

            //     var userNo = "[[${session.user != null ? session.user.userNo : ''}]]";
            //     var starNo = $card.attr("data-no");
            //     var csrfToken = "[[${_csrf.token}]]";

            //     if (userNo === '') {
            //         alert("ë¡œê·¸ì¸ì„ í•˜ì‹œì˜¤!");
            //         return;
            //     }

            //     // ì´ë²¤íŠ¸ ì „íŒŒ ì¤‘ì§€ ë° ê¸°ë³¸ ë™ì‘ ë°©ì§€
            //     e.preventDefault();
            //     e.stopPropagation();

            //     $.ajax({
            //         url: '/page/like', // ì„œë²„ì˜ ì¢‹ì•„ìš” ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” API ì—”ë“œí¬ì¸íŠ¸
            //         method: 'POST',
            //         data: {
            //             userNo: userNo,
            //             starNo: starNo
            //         },
            //         beforeSend: function (xhr) {
            //             // ğŸ’ CSRF í† í°ì„ ìš”ì²­ í—¤ë”ì— ì¶”ê°€
            //             xhr.setRequestHeader('X-CSRF-TOKEN', csrfToken);
            //         },
            //         success: function (response) {
            //             // ì¢‹ì•„ìš” ì•„ì´ì½˜ í´ë˜ìŠ¤ í† ê¸€
            //             $card.find('.star-links').toggleClass('liked');
            //         },
            //         error: function (xhr, status, error) {
            //             console.error("ì¢‹ì•„ìš” ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨:", error);
            //         }
            //     });
            // }

            // // ì¹´ë“œ ë”ë¸”í´ë¦­ ì´ë²¤íŠ¸ì— ìƒˆë¡œìš´ í•¨ìˆ˜ ë°”ì¸ë”©
            // $(document).on('dblclick', '.card', function (e) {
            //     // ì´ë²¤íŠ¸ ì „íŒŒ ë° ê¸°ë³¸ ë™ì‘ ë°©ì§€
            //     e.preventDefault();
            //     e.stopPropagation();
                
            //     // ë”ë¸”í´ë¦­ ì²˜ë¦¬
            //     handleCardDoubleClick(this); // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ì—ì„œ í•¨ìˆ˜ í˜¸ì¶œ
            // });


            
            
            
            




        });

        // $(document).on('click', '.star-links i', function(e) {
        //     // ì•„ì´ì½˜ì˜ í´ë˜ìŠ¤ ë³€ê²½
        //     $(this).toggleClass('fa-regular fa-solid');

        //     // ì´ë²¤íŠ¸ ì „íŒŒ ë° ê¸°ë³¸ ë™ì‘ ë°©ì§€
        //     e.preventDefault();
        //     e.stopPropagation();
        // });


        // ë”ë¸”í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        function handleCardDoubleClick(cardElement) {
            var clickTimer;
            var isDoubleClick = false;
            var $card = $(cardElement); // í˜„ì¬ í´ë¦­ëœ ì¹´ë“œ ìš”ì†Œë¥¼ ì €ì¥

            clearTimeout(clickTimer);
            isDoubleClick = true;

            var userNo = "[[${session.user != null ? session.user.userNo : ''}]]";
            var starNo = $card.attr("data-no");
            var csrfToken = "[[${_csrf.token}]]";

            if (userNo === '') {
                alert("ë¡œê·¸ì¸ì„ í•˜ì‹œì˜¤!");
                return;
            }

            // AJAX ìš”ì²­ì„ í†µí•´ ì„œë²„ì— ì¢‹ì•„ìš” ìƒíƒœë¥¼ ë³€ê²½
            $.ajax({
                url: '/page/like', // ì„œë²„ì˜ ì¢‹ì•„ìš” ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” API ì—”ë“œí¬ì¸íŠ¸
                method: 'POST',
                data: {
                    userNo: userNo,
                    starNo: starNo
                },
                beforeSend: function(xhr) {
                    // CSRF í† í°ì„ ìš”ì²­ í—¤ë”ì— ì¶”ê°€
                    xhr.setRequestHeader('X-CSRF-TOKEN', csrfToken);
                },
                success: function(response) {
                    // ì¢‹ì•„ìš” ì•„ì´ì½˜ í´ë˜ìŠ¤ í† ê¸€
                    $card.find('.star-links').toggleClass('liked');
                },
                error: function(xhr, status, error) {
                    console.error("ì¢‹ì•„ìš” ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨:", error);
                }
            });
        }

        // ì¹´ë“œì˜ ë”ë¸”í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        $(document).on('dblclick', '.card', function(e) {
            handleCardDoubleClick(this);

            // ì´ë²¤íŠ¸ ì „íŒŒ ì¤‘ì§€ ë° ê¸°ë³¸ ë™ì‘ ë°©ì§€
            e.preventDefault();
            e.stopPropagation();
        });

        // ì•„ì´ì½˜ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        $(document).on('click', '.star-links i', function(e) {
            // ì•„ì´ì½˜ì˜ í´ë˜ìŠ¤ ë³€ê²½
            $(this).toggleClass('fa-regular fa-solid');

            // ì´ë²¤íŠ¸ ì „íŒŒ ë° ê¸°ë³¸ ë™ì‘ ë°©ì§€
            e.preventDefault();
            e.stopPropagation();
        });

    </script> -->

    <script>


    $(document).ready(function () {

    // ì¹´ë“œ ì´í™íŠ¸
    $(document).on('mousemove', '.effect', function (e) {
        var container = $(this);
        var overlay = container.find('.card-overlay');

        var x = e.offsetX;
        var y = e.offsetY;
        var rotateY = -1 / 5 * x + 20;
        var rotateX = 4 / 30 * y - 20;

        overlay.css('background-position', `${x / 5 + y / 5}%`);
        container.css('transform', `perspective(350px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`);
    });

    $(document).on('mouseout', '.effect', function () {
        var container = $(this);
        var overlay = container.find('.card-overlay');

        overlay.css('filter', 'opacity(0)');
        container.css('transform', 'perspective(350px) rotateY(0deg) rotateX(0deg)');
    });

    $(document).on('mouseenter', '.effect', function () {
        var overlay = $(this).find('.card-overlay');
        overlay.css('filter', 'opacity(0.8)');
    });

    // // í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬
    // let clickTimer;
    // let isDoubleClick = false;

    // $(document).on('click', '.card', function (e) {
    //     var $this = $(this);
    //     var no = $this.attr("data-no");
    //     console.log("ê°€ì ¸ì˜¨ star-no :" + no);
    //     if ( no != null) {

    //         clickTimer = setTimeout(() => {
    //             if (!isDoubleClick) {
    //                 window.location = "/page/starCard/starRead?starNo=" + no;
    //             }
    //             isDoubleClick = false; // ì´ˆê¸°í™”
    //         }, 250);
    
    //         // ì´ë²¤íŠ¸ ì „íŒŒ ë° ê¸°ë³¸ ë™ì‘ ë°©ì§€
    //         e.preventDefault();
    //         e.stopPropagation();
    //     }
    // });

//     var isDoubleClick = false;
// var clickTimer;

// $(document).on('click', '.card', function (e) {
//     var $this = $(this);
//     var no = $this.attr("data-no");
//     console.log("ê°€ì ¸ì˜¨ star-no :" + no);
//     if (no != null) {
//         // í´ë¦­ ë²„í¼ë§ì„ ìœ„í•œ íƒ€ì´ë¨¸ ì„¤ì •
//         if (!isDoubleClick) {
//             clickTimer = setTimeout(() => {
//                 // ë”ë¸” í´ë¦­ì´ ì•„ë‹Œ ê²½ìš° ì‹¤í–‰ë  ë™ì‘
//                 window.location = "/page/starCard/starRead?starNo=" + no;
//                 clearTimeout(clickTimer); // íƒ€ì´ë¨¸ ì œê±°
//             }, 250);
//         }
//         // ë”ë¸” í´ë¦­ ìƒíƒœë¡œ ë³€ê²½
//         isDoubleClick = true;

//         // ì´ë²¤íŠ¸ ì „íŒŒ ë° ê¸°ë³¸ ë™ì‘ ë°©ì§€
//         e.preventDefault();
//         e.stopPropagation();
//     }
// });

// // ë”ë¸” í´ë¦­ ê°ì§€ë¥¼ ìœ„í•œ íƒ€ì´ë¨¸ ì´ˆê¸°í™”
// $(document).on('dblclick', '.card', function (e) {
//     clearTimeout(clickTimer); // ë‹¨ì¼ í´ë¦­ íƒ€ì´ë¨¸ ì œê±°
//     isDoubleClick = true; // ë”ë¸” í´ë¦­ ìƒíƒœë¡œ ë³€ê²½

//     // ì´ë²¤íŠ¸ ì „íŒŒ ë° ê¸°ë³¸ ë™ì‘ ë°©ì§€
//     e.preventDefault();
//     e.stopPropagation();
// });


    // // ë”ë¸”í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    // function handleCardDoubleClick(cardElement, event) {
    //     var $card = $(cardElement); // í˜„ì¬ í´ë¦­ëœ ì¹´ë“œ ìš”ì†Œë¥¼ ì €ì¥

    //     clearTimeout(clickTimer); // ê¸°ì¡´ì˜ í´ë¦­ íƒ€ì´ë¨¸ë¥¼ ì œê±°í•˜ì—¬ ë‹¨ì¼ í´ë¦­ì„ ë°©ì§€
    //     isDoubleClick = true;

    //     var userNo = "[[${session.user != null ? session.user.userNo : ''}]]";
    //     var starNo = $card.attr("data-no");
    //     var csrfToken = "[[${_csrf.token}]]";

    //     if (userNo === '') {
    //         alert("ë¡œê·¸ì¸ì„ í•˜ì‹œì˜¤!");
    //         return;
    //     }

    //     // AJAX ìš”ì²­ì„ í†µí•´ ì„œë²„ì— ì¢‹ì•„ìš” ìƒíƒœë¥¼ ë³€ê²½
    //     $.ajax({
    //         url: '/page/like', // ì„œë²„ì˜ ì¢‹ì•„ìš” ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” API ì—”ë“œí¬ì¸íŠ¸
    //         method: 'POST',
    //         data: {
    //             userNo: userNo,
    //             starNo: starNo
    //         },
    //         beforeSend: function (xhr) {
    //             // CSRF í† í°ì„ ìš”ì²­ í—¤ë”ì— ì¶”ê°€
    //             xhr.setRequestHeader('X-CSRF-TOKEN', csrfToken);
    //         },
    //         success: function (response) {
    //             // ì¢‹ì•„ìš” ì•„ì´ì½˜ í´ë˜ìŠ¤ í† ê¸€
    //             $card.find('.star-links').toggleClass('liked');
    //             // ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰
    //             animateCard(cardElement, event);
    //         },
    //         error: function (xhr, status, error) {
    //             console.error("ì¢‹ì•„ìš” ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨:", error);
    //         }
    //     });
    // }

    // // ë”ë¸”í´ë¦­ ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜
    // function animateCard(card, event) {
    //     console.log("ë”ë¸” í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ!");

    //     const star = card.querySelector('.star');
    //     star.style.display = 'inline'; // ì´ëª¨í‹°ì½˜ í‘œì‹œ

    //     // ì¹´ë“œ ìš”ì†Œì˜ ìœ„ì¹˜ ë° í¬ê¸° ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    //     const rect = card.getBoundingClientRect();

    //     // ë§ˆìš°ìŠ¤ í¬ì¸í„° ìœ„ì¹˜ ê³„ì‚°
    //     const x = event.clientX - rect.left;
    //     const y = event.clientY - rect.top;

    //     // ì´ëª¨í‹°ì½˜ ìœ„ì¹˜ ì„¤ì •
    //     star.style.left = `${x}px`;
    //     star.style.top = `${y}px`;

    //     // ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰ ë° ì´ëª¨í‹°ì½˜ ìˆ¨ê¹€ ì²˜ë¦¬
    //     star.style.animation = 'burst 0.5s forwards';

    //     setTimeout(function() {
    //         star.style.display = 'none'; // ì´ëª¨í‹°ì½˜ ìˆ¨ê¹€
    //     }, 500); // 0.5ì´ˆ (ì• ë‹ˆë©”ì´ì…˜ì˜ ì´ ì‹œê°„)
    // }

    // // ì¹´ë“œì˜ ë”ë¸”í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
    // $(document).on('dblclick', '.card', function (e) {
    //     handleCardDoubleClick(this, e);

    //     // ì´ë²¤íŠ¸ ì „íŒŒ ì¤‘ì§€ ë° ê¸°ë³¸ ë™ì‘ ë°©ì§€
    //     e.preventDefault();
    //     e.stopPropagation();
    // });

    // // ì•„ì´ì½˜ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
    // $(document).on('click', '.star-links i', function (e) {
    //     // ì•„ì´ì½˜ì˜ í´ë˜ìŠ¤ ë³€ê²½
    //     $(this).toggleClass('fa-regular fa-solid');

    //     // ì´ë²¤íŠ¸ ì „íŒŒ ë° ê¸°ë³¸ ë™ì‘ ë°©ì§€
    //     e.preventDefault();
    //     e.stopPropagation();
    // });
    });


    </script>

</th:block>