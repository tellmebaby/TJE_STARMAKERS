<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/default_layout}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index Page</title>
    <!-- <link rel="stylesheet" href="/css/card.css" class="css"> -->
    <link class="css" href="/css/starCard.css" rel="stylesheet">
<!-- 부트스트랩 아이콘 CSS 파일 -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        /*
        #promotionCarousel .col-lg-3 p-0 {
            padding-right: 0;
            padding-left: 0;
        }
        */

        a {
            text-decoration: none;
            color: black;
        }

    </style>
    

</head>



<body layout:fragment="content">

<div class="jumbotron text-center bg-image">
    <div class="topOverlay d-flex flex-column align-items-center">
        <h1 class="display-4">스타가 되는 첫걸음</h1>
        <p class="lead">스타가 되고 싶은 당신을 위한 홍보 플랫폼</p>
        <div class="d-flex">
            <a href="page/starCard/starInsert" class="btn btn-primary btn-lg me-3">무료로 참여하기</a>
            <a href="page/starCard/starList" class="btn btn-secondary btn-lg">스타 보러가기</a>
            
        </div>
        <div class="row mb-3 mt-3">
            <div class="col-md-12 d-flex align-items-center">
                <input type="text" class="form-control me-2" id="main-search" placeholder="검색 키워드 입력">
                <button class="btn btn-primary" id="btn-mainSearch">검색</button>
            </div>
        </div>
    </div>
</div>

<div class="container">

    <div id="promotionCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
        <div class="carousel-inner" id="carousel-inner">
            <!-- Dynamically added carousel items will go here -->
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#promotionCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#promotionCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>


    <!-- 새추가영역 -->
    <div class="row justify-content-center">
        <div class="col-6">
          <div class="content-wrapper" style="height: 150px;">
                <div class="banner-slider">
                    <div id="bannerCarousel" class="carousel slide align-items-start" data-bs-ride="carousel" data-bs-interval="5000">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div class="event-banner align-items-start">
                                    <img src="/img/sampleBanner.png" class="d-block w-100">
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="event-banner align-items-start">
                                    <img src="/img/sampleBanner2.png" class="d-block w-100">
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="event-banner align-items-start">
                                    <img src="/img/sampleBanner3.png" class="d-block w-100">
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="event-banner align-items-start">
                                    <img src="/img/sampleBanner4.png" class="d-block w-100">
                                </div>
                            </div>
                        </div>
                  </div>
            </div>
          </div>
          <div class="content-wrapper" style="height: 150px;">
            <div class="contentIcon-container">
                <div class="contentIcon">
                  <i class="bi bi-music-note"></i>
                  <p>음악</p>
                </div>
                <div class="contentIcon">
                  <i class="bi bi-controller"></i>
                  <p>게임</p>
                </div>
                <div class="contentIcon">
                  <i class="bi bi-backpack2"></i>
                  <p>여행</p>
                </div>
                <div class="contentIcon">
                  <i class="bi bi-cake"></i>
                  <p>음식</p>
                </div>
                <div class="contentIcon">
                  <i class="bi bi-feather"></i>
                  <p>동물</p>
                </div>
                <div class="contentIcon">
                  <i class="bi bi-mic"></i>
                  <p>ASMR</p>
                </div>
                <div class="contentIcon">
                  <i class="bi bi-bicycle"></i>
                  <p>운동</p>
                </div>
                <div class="contentIcon">
                  <i class="bi bi-person-arms-up"></i>
                  <p>패션</p>
                </div>
              </div>
          </div>
        </div>
        <div class="col-6">
          <div class="content-wrapper" style="height: 300px;">
            <div class="starmember-wrapper">
                <div class="starmember-list">
                    <div class="starmember-detail">
                        <span class="starmember-title1">요새뜨는스타</span>
                        <div class="starmember">
                            <img class="starmember-img" src="/file/img/5" alt="스타 멤버 1">
                            <span>스타 멤버 1</span>
                          </div>
                          <div class="starmember">
                            <img class="starmember-img" src="/file/img/5" alt="스타 멤버 2">
                            <span>스타 멤버 2</span>
                          </div>
                          <div class="starmember">
                            <img class="starmember-img" src="/file/img/5" alt="스타 멤버 3">
                            <span>스타 멤버 3</span>
                          </div>
                          <div class="starmember">
                            <img class="starmember-img" src="/file/img/5" alt="스타 멤버 4">
                            <span>스타 멤버 4</span>
                          </div>
                          <div class="starmember">
                            <img class="starmember-img" src="/file/img/5" alt="스타 멤버 5">
                            <span>스타 멤버 5</span>
                          </div>
                    </div>
                    <div class="starmember-detail">
                        <span class="starmember-title1">시작하는스타</span>
                        <div class="starmember">
                            <img class="starmember-img" src="/file/img/5" alt="스타 멤버 1">
                            <span>스타 멤버 1</span>
                          </div>
                          <div class="starmember">
                            <img class="starmember-img" src="/file/img/5" alt="스타 멤버 2">
                            <span>스타 멤버 2</span>
                          </div>
                          <div class="starmember">
                            <img class="starmember-img" src="/file/img/5" alt="스타 멤버 3">
                            <span>스타 멤버 3</span>
                          </div>
                          <div class="starmember">
                            <img class="starmember-img" src="/file/img/5" alt="스타 멤버 4">
                            <span>스타 멤버 4</span>
                          </div>
                          <div class="starmember">
                            <img class="starmember-img" src="/file/img/5" alt="스타 멤버 5">
                            <span>스타 멤버 5</span>
                          </div>
                    </div>
                </div>
            </div>
          </div>
        </div>
      </div>
    <!-- 새추가영역 -->



    <div class="row">
        <div class="col-md-6">
            <h3 class="board-h">이벤트 후기 <span class="text-muted"><a href="page/board/reviewBoard/reviewList">더 보기></a></span></h3>
            <ul class="list-group">
                <li class="list-group-item" th:if="${starListReview.empty}">
                    조회된 게시물이 없습니다.
                </li>
                <li class="list-group-item" th:each="starBoard, iterStat : ${starListReview}">
                    <a th:href="|/page/board/reviewBoard/reviewPost?starNo=${starBoard.starNo}|" th:text="${starBoard.title} + ' [' + ${starBoard.commentCount} + ']'"></a>
                    <span class="badge text-bg-secondary" th:text="${starBoard.views}"></span>
                </li>
            </ul>
        </div>
        <div class="col-md-6">
            <h3 class="board-h">공지사항 <span class="text-muted"><a href="page/board/anBoard/anList">더 보기></a></span></h3>
            <ul class="list-group">
                <li class="list-group-item" th:if="${starListAnn.empty}">
                    조회된 게시물이 없습니다.
                </li>
                <li class="list-group-item" th:each="starBoard, iterStat : ${starListAnn}">
                    <a th:href="|/page/board/anBoard/anPost?starNo=${starBoard.starNo}|" th:text="${starBoard.title} + ' [' + ${starBoard.commentCount} + ']'"></a>
                    <span class="badge text-bg-secondary" th:text="${starBoard.views}"></span>
                </li>
            </ul>
        </div>
    </div>
</div>


        <!-- <script>

            document.addEventListener('DOMContentLoaded', function() {
                const carouselInner = document.getElementById('carousel-inner');
        
                // 예시 데이터 6의 배수로 가져올 것 나머지는 버리고
                const cards = [
                    {starNo: '6', title: '선배마라탕사주세요', writer: '김조은', content: '그럼탕후루는요?', regDate: '2024-06-04 06:40:02', updDate: '', views: '0', userNo: '1', payNo: '0', likes: '1', status: '', card: '무료홍보', category1: 'youtube,instagram,afreeca,chzzk', category2: 'food,travel,game,music,animal,workOut,asmr,fashion', type: 'starCard', startDate: '2024-06-04 00:00:00', endDate: '2024-06-08 00:00:00', imgNo: '20', userImgId: '18'}
                ];
        
                

                function createCard(cardData) {
                    const categories = cardData.category1.split(', ');
                    const icon1 = categories.includes('afreeca') ? '<img src="/img/icon/afreeca.png" alt="아이콘1" class="content-icon">' : '';
                    const icon2 = categories.includes('chzzk') ? '<img src="/img/icon/chzzk.png" alt="아이콘2" class="content-icon">' : '';
                    const icon3 = categories.includes('youtube') ? '<img src="/img/icon/youtube.png" alt="아이콘3" class="content-icon">' : '';
                    const icon4 = categories.includes('instagram') ? '<img src="/img/icon/instagram.png" alt="아이콘4" class="content-icon">' : '';

                    const categories2 = cardData.category2.split(', ');
                    const musicBtn = categories2.includes('music') ? '<a href="#" class="btn btn-custom">#음악</a>' : '';
                    const travelBtn = categories2.includes('travel') ? '<a href="#" class="btn btn-custom">#여행</a>' : '';
                    const foodBtn = categories2.includes('food') ? '<a href="#" class="btn btn-custom">#음식</a>' : '';
                    const gameBtn = categories2.includes('game') ? '<a href="#" class="btn btn-custom">#게임</a>' : '';
                    const animalBtn = categories2.includes('animal') ? '<a href="#" class="btn btn-custom">#동물</a>' : '';
                    const exerciseBtn = categories2.includes('workOut') ? '<a href="#" class="btn btn-custom">#운동</a>' : '';
                    const fashionBtn = categories2.includes('fashion') ? '<a href="#" class="btn btn-custom">#패션</a>' : '';
                    const asmrBtn = categories2.includes('asmr') ? '<a href="#" id="asmr-link" class="btn btn-custom">#ASMR</a>' : '';


                    return `
                    <div class="col-md-2 mb-4">
                        <div class="${cardData.card}" ondblclick="animateCard(this)">
                            <div class="card custom-card" style="background-image: url('/file/img/${cardData.img}');">
                                <span class="star">&#9733;</span> 
                                <div class="top-container">
                                    <div class="left-content">
                                        ${icon1}
                                        ${icon2}
                                        ${icon3}
                                        ${icon4}
                                    </div>
                                    <div class="right-content">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots shadow-icon" viewBox="0 0 16 16">
                                            <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="overlay" style="background-image: url('/file/img/${cardData.img}');"></div>
                                <div class="card-body">
                                    <h5 class="card-title">
                                        <img src="/file/img/${cardData.userImgId}" alt="작성자 아이콘" class="author-icon">
                                        ${cardData.title}
                                    </h5>
                                    <p class="card-text">${cardData.content}</p>
                                    <div class="bottom-container">
                                        <div class="field-links">
                                            ${musicBtn}
                                            ${travelBtn}
                                            ${foodBtn}
                                            ${gameBtn}
                                            ${animalBtn}
                                            ${exerciseBtn}
                                            ${fashionBtn}
                                            ${asmrBtn}
                                        </div>
                                        <div class="star-links">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                                                <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"/>
                                            </svg>
                                            <span class="count">1.5k</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    `;
                }
        
                function createCarouselItem(cardsChunk, isActive = false) {
                    const activeClass = isActive ? 'active' : '';
                    return `
                        <div class="carousel-item ${activeClass}">
                            <div class="row mx-0">
                                ${cardsChunk.map(createCard).join('')}
                            </div>
                        </div>
                    `;
                }
        
                function chunkArray(array, chunkSize) {
                    const chunks = [];
                    for (let i = 0; i < array.length; i += chunkSize) {
                        chunks.push(array.slice(i, i + chunkSize));
                    }
                    return chunks;
                }
        
                // 카드를 6개씩 묶음으로 나누기
                const cardChunks = chunkArray(cards, 6);
        
                // 첫 번째 카드는 active 클래스를 추가하여 활성화
                cardChunks.forEach((chunk, index) => {
                    const carouselItem = createCarouselItem(chunk, index === 0);
                    carouselInner.insertAdjacentHTML('beforeend', carouselItem);
                });
            });
        </script> -->

        <script>
            $(document).ready(function() {
                // 페이지 로드 시 실행될 내용
                $.ajax({
                    url: "/page/mainlist", // 데이터를 가져올 URL
                    type: "GET",
                    dataType: "json", // 반환되는 데이터 형식
                    success: function(response) {
                        // 성공적으로 데이터를 가져왔을 때 실행되는 함수
                        const cards = response; // 서버로부터 받은 데이터

                        // 이후의 처리를 여기에 구현
                        // 예: 카드 생성, 캐러셀 업데이트 등
                        const carouselInner = $('#carousel-inner');

                        function createCard(cardData) {
                            const categories = cardData.category1.split(', ');
                            const icon1 = categories.includes('afreeca') ? '<img src="/img/icon/afreeca.png" alt="아이콘1" class="content-icon">' : '';
                            const icon2 = categories.includes('chzzk') ? '<img src="/img/icon/chzzk.png" alt="아이콘2" class="content-icon">' : '';
                            const icon3 = categories.includes('youtube') ? '<img src="/img/icon/youtube.png" alt="아이콘3" class="content-icon">' : '';
                            const icon4 = categories.includes('instagram') ? '<img src="/img/icon/instagram.png" alt="아이콘4" class="content-icon">' : '';

                            const categories2 = cardData.category2.split(', ');
                            const musicBtn = categories2.includes('music') ? '<a href="#" class="btn btn-custom">#음악</a>' : '';
                            const travelBtn = categories2.includes('travel') ? '<a href="#" class="btn btn-custom">#여행</a>' : '';
                            const foodBtn = categories2.includes('food') ? '<a href="#" class="btn btn-custom">#음식</a>' : '';
                            const gameBtn = categories2.includes('game') ? '<a href="#" class="btn btn-custom">#게임</a>' : '';
                            const animalBtn = categories2.includes('animal') ? '<a href="#" class="btn btn-custom">#동물</a>' : '';
                            const exerciseBtn = categories2.includes('workOut') ? '<a href="#" class="btn btn-custom">#운동</a>' : '';
                            const fashionBtn = categories2.includes('fashion') ? '<a href="#" class="btn btn-custom">#패션</a>' : '';
                            const asmrBtn = categories2.includes('asmr') ? '<a href="#" id="asmr-link" class="btn btn-custom">#ASMR</a>' : '';


                            return `
                            <div class="col-md-2 mb-4">
                                <div class="card standard" ondblclick="animateCard(this)">
                                    <div class="card custom-card" style="background-image: url('/file/img/${cardData.imgNo}');">
                                        <span class="star">&#9733;</span> 
                                        <div class="top-container">
                                            <div class="left-content">
                                                ${icon1}
                                                ${icon2}
                                                ${icon3}
                                                ${icon4}
                                            </div>
                                            <div class="right-content">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots shadow-icon" viewBox="0 0 16 16">
                                                    <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"/>
                                                </svg>
                                            </div>
                                        </div>
                                        <div class="overlay" style="background-image: url('/file/img/${cardData.imgNo}');"></div>
                                        <div class="card-body">
                                            <h5 class="card-title">
                                                <img src="/file/img/${cardData.userImgId}" alt="작성자 아이콘" class="author-icon">
                                                ${cardData.title}
                                            </h5>
                                            <p class="card-text">${cardData.content}</p>
                                            <div class="bottom-container">
                                                <div class="field-links">
                                                    ${musicBtn}
                                                    ${travelBtn}
                                                    ${foodBtn}
                                                    ${gameBtn}
                                                    ${animalBtn}
                                                    ${exerciseBtn}
                                                    ${fashionBtn}
                                                    ${asmrBtn}
                                                </div>
                                                <div class="star-links">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                                                        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"/>
                                                    </svg>
                                                    <span class="count">${cardData.views}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            `;
                        }

                        function createCarouselItem(cardsChunk, isActive = false) {
                            const activeClass = isActive ? 'active' : '';
                            return `
                                <div class="carousel-item ${activeClass}">
                                    <div class="row mx-0">
                                        ${cardsChunk.map(createCard).join('')}
                                    </div>
                                </div>
                            `;
                        }

                        function chunkArray(array, chunkSize) {
                            // 배열을 지정한 크기로 분할하는 로직
                            const chunks = [];
                            for (let i = 0; i < array.length; i += chunkSize) {
                                chunks.push(array.slice(i, i + chunkSize));
                            }
                            return chunks;
                        }

                        // 서버에서 가져온 데이터로 카드 생성
                        const cardChunks = chunkArray(cards, 6);
                        cardChunks.forEach((chunk, index) => {
                            const carouselItem = createCarouselItem(chunk, index === 0);
                            carouselInner.append(carouselItem);
                        });
                    },
                    error: function(xhr, status, error) {
                        // 에러 발생 시 실행되는 함수
                        console.error("Error:", error);
                    }
                });
            });
        </script>

        <script>
            function animateCard(card) {
                const star = card.querySelector('.star');
                star.style.display = 'inline'; // 이모티콘 표시

                const x = event.clientX - card.offsetLeft;
                const y = event.clientY - card.offsetTop;
                star.style.left = `${x}px`;
                star.style.top = `${y}px`;

                setTimeout(function() {
                    star.style.display = 'none'; // 이모티콘 숨김
                }, 500); // 0.5초 (애니메이션의 총 시간)

                star.style.animation = 'burst 0.5s forwards'; // 애니메이션 시작
            }
        </script>

        <script>
            document.addEventListener('scroll', function() {
                const bgImage = document.querySelector('.bg-image');
                const scrolled = window.pageYOffset;
                const parallaxSpeed = 0.7;
                bgImage.style.backgroundPositionY = -(scrolled * parallaxSpeed) + 'px';
            });
        </script>

</body>




</html>